@model SchoolHealthManagement.Models.StudentModel
@{
    ViewBag.Title = "Students Bulk";
    Layout = "~/Views/Shared/_FormLayout.cshtml";
}



<div class="container">
<div class="row index-top-box">
<div class="form-sub-headers">
<h2>Upload Students</h2>
</div>

        @if (ViewData.ModelState["Error"] != null) //    @if (!ViewData.ModelState.IsValid)

{
   
   <div style="background-color: #ffeeee;border: 1px solid #de8181;
color: #b55858;font-size: 12px;font-weight: 900;padding: 9px 9px 11px 22px;
width: 97%;">


  @Html.ValidationMessage("Error")

</div>
    }
    
@using (Html.BeginForm("StudentsBulk", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.HiddenFor(m=>m.SchoolID)  
   
    <table id="tableNoOfStudents" class ="datatable sortable" style="width: 97%;margin:16px auto 0;">

            <thead>
                <tr>

                    <th>
                        @Html.DisplayName("Addmision No")
                    </th>
                    <th>
                        @Html.DisplayName("Current Grade")
                    </th>

                    <th>
                        @Html.DisplayName("Name With Initials")
                    </th>
                    
                    <th>
                        @Html.DisplayName("Name In Full")
                    </th>

                     <th>
                        @Html.DisplayName("DOB")
                    </th>
                    
                    <th>
                        @Html.DisplayName("Gender")
                    </th>
                    <th>
                        @Html.DisplayName("Parent Name")
                    </th>
                    <th>
                        @Html.DisplayName("Parent Address")
                    </th>

                    <th>
                        @Html.DisplayName("NIC")
                    </th>
                    
                    <th>
                        @Html.DisplayName("Contact No")
                    </th>
                   
              


                </tr>
            </thead>
            <tbody>
                @{int i = 1; }
               @Html.Hidden("CountRows",((List<SchoolHealthManagement.Models.StudentModel>)ViewBag.ListStudents).Count)
                
                @foreach (var item in (List<SchoolHealthManagement.Models.StudentModel>)ViewBag.ListStudents)
                {
                    <tr>

                    <td>
                        @Html.Hidden("AdmissionNo" + i.ToString(),item.AddmisionNo)
                        
                        @Html.DisplayFor(modelItem => item.AddmisionNo)
                    </td>
                    <td>
                        @Html.Hidden("CurrentGrade" + i.ToString(),item.CurrentGrade)
                        @Html.DisplayFor(modelItem => item.CurrentGrade)
                    </td>
                    <td>
                        @Html.Hidden("NameWithInitials" + i.ToString(),item.NameWithInitials)
                        @Html.DisplayFor(modelItem => item.NameWithInitials)
                    </td>
                    <td>
                        @Html.Hidden("NameInFull" + i.ToString(),item.NameInFull)
                        @Html.DisplayFor(modelItem => item.NameInFull)
                    </td>
                    <td>
                        @Html.Hidden("DOB" + i.ToString(),item.DOB)
                        @Html.DisplayFor(modelItem => item.DOB)
                    </td>
                    <td>
                        @Html.Hidden("Gender" + i.ToString(),item.Gender)
                        @Html.DisplayFor(modelItem => item.Gender)
                    </td>
                    <td>
                        @Html.Hidden("ParentName" + i.ToString(),item.ParentName)
                        @Html.DisplayFor(modelItem => item.ParentName)
                    </td>
                    <td>
                        @Html.Hidden("ParentAddress" + i.ToString(),item.ParentAddress)
                        @Html.DisplayFor(modelItem => item.ParentAddress)
                    </td>
                    <td>
                        @Html.Hidden("NIC" + i.ToString(),item.NIC)
                        @Html.DisplayFor(modelItem => item.NIC)
                    </td>
                    <td>
                        @Html.Hidden("ContactNo" + i.ToString(),item.ContactNo)
                        @Html.DisplayFor(modelItem => item.ContactNo)
                    </td>
       
                    </tr>
                    
                    i++; 
                }
            </tbody>
        </table>
    <div class="form-sub-headers"></div>
    <table class="details_container_table" style="width:50%">
        <tbody>
            <tr>

                <td style="width:20%; text-align:right">Excel File</td>
                 <td style="width:30%"><input type="file" name="excelFile" /></td>
            </tr>
                <tr>

                <td style="width:20%; text-align:right"></td>
                 <td style="width:30%">   <input type="submit" value="Import" name="button" class="blue-btn"/>

                         <input type="submit" value="Save" name="button" class="blue-btn" />
                 </td>
            </tr>

           

        </tbody>


    </table>
 
    



}

        </div></div>