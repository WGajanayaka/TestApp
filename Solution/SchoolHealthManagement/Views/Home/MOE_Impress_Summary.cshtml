@model SchoolHealthManagement.Models.ImpressSummaryModel

@{
    ViewBag.Title = "MOE_Impress_Summary";
    Layout = "~/Views/Shared/_FormLayout.cshtml";
}

<h2>MOE_Impress_Summary</h2>
  <script src="~/Content/assets/js/jquery-migrate-1.0.0.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

<script type="text/javascript">

    function ProvinceChanged(_ProvinceVal) {
        //$("form").submit();
        var url = "/Home/MOE_Impress_Summary/";
        //document.getElementById('ProvinceID').value = _ProvinceVal;
        //window.location.href = "/Home/MOE_Impress_Summary/?strProvinceID=" + _ProvinceVal;
        var model = @Html.Raw(Json.Encode(Model)) //Convert Model to JSON 
                   $.post(url, model);
        //$.ajax({
        //    url: url,
        //    data: {strProvinceID :_ProvinceVal},
        //    cache: false,
        //    type: "POST",
        //    success: function (data) {

        //    },
        //    ERROR: function (reponse) {
        //        alert("error : " + reponse);
        //    }
        //});
       
    }

</script>


@using (Html.BeginForm())
{
    @Html.ValidationSummary(true)

    <table class="details_container_table" style="width: 50%">
        <tbody>
            <tr>
                <td style="width: 20%; text-align: right" class="snf">@Html.Label("Male") </td>
                <td style="width: 30%"></td>
            </tr>
            <tr>
                <td style="width: 20%; text-align: right">@Html.Label("Year") </td>
                <td style="width: 30%">@Html.DropDownListFor(item =>item.Year, (List<SelectListItem>)ViewBag.Years, "Select Year")</td>
                <td style="width: 20%; text-align: right">@Html.Label("Province") </td>
                <td style="width: 30%">@Html.DropDownListFor(item =>item.ProvinceID, (List<SelectListItem>)ViewBag.Provinces, "Select Province", new { onchange = "javascript:ProvinceChanged(this.value);" })</td>
            </tr>

            <tr>
                <td style="width: 20%; text-align: right">@Html.Label("Entry Date") </td>
                <td style="width: 30%">@Html.TextBoxFor(item =>item.EntryDate)</td>
                <td style="width: 20%; text-align: right">@Html.Label("Amount Per Student") </td>
                <td style="width: 30%">@Html.TextBoxFor(item =>item.AmountPerStudent)</td>
            </tr>

             <tr>
                <td style="width: 20px; text-align: right">@Html.Label("No Of School Days") </td>
                <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysJan)</td>
                <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysFeb)</td>
                <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysMar)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysApr)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysMay)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysJun)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysJul)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysAug)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysSep)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysOct)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysNov)</td>
                 <td style="width: 5px">@Html.TextBoxFor(item =>item.NoOfSchoolDaysDec)</td>

            </tr>
    </table>

    <table class="datatable sortable" style="width: 100%; padding-top: 6px;">

            <thead>
                <tr>
                    <th>
                        @Html.DisplayName("Zone Name")
                    </th>
                    <th>
                        @Html.DisplayName("No Of Students")
                    </th>
                      <th>
                        @Html.DisplayName("Jan")
                    </th>
                      <th>
                        @Html.DisplayName("Feb")
                    </th>
                      <th>
                        @Html.DisplayName("Mar")
                    </th>
                    <th>
                        @Html.DisplayName("Apr")
                    </th>
                    <th>
                        @Html.DisplayName("May")
                    </th>
                    <th>
                        @Html.DisplayName("Jun")
                    </th>
                    <th>
                        @Html.DisplayName("Jul")
                    </th>
                    <th>
                        @Html.DisplayName("Aug")
                    </th>
                    <th>
                        @Html.DisplayName("Sep")
                    </th>
                    <th>
                        @Html.DisplayName("Oct")
                    </th>
                    <th>
                        @Html.DisplayName("Nov")
                    </th>
                    <th>
                        @Html.DisplayName("Dec")
                    </th>


                </tr>
            </thead>
            <tbody>
                @{int i = 1; }
                @foreach (var item in (List<SchoolHealthManagement.Models.ZoneImpressSummaryModel>)ViewBag.ZoneImpressInfo)
                {
                    <tr>
                        <td>
                            @Html.Hidden("ZoneNameH" + i.ToString(), (item == null?"":item.ZoneName))
                            @Html.TextBoxFor(model => item.ZoneName, new { disabled = "true", id = "ZoneName-" + i.ToString()})

                        </td>
                         <td>
                            @Html.Hidden("NoOfStudentsH" + i.ToString(), (item == null?0:item.NoOfStudents))
                            @Html.TextBoxFor(model => item.NoOfStudents, new { id = "NoOfStudents-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueJanH" + i.ToString(), (item == null?0:item.ValueJan))
                            @Html.TextBoxFor(model => item.ValueJan, new { id = "ValueJan-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueFebH" + i.ToString(), (item == null?0:item.ValueFeb))
                            @Html.TextBoxFor(model => item.ValueFeb, new { id = "ValueFeb-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueMarH" + i.ToString(), (item == null?0:item.ValueMar))
                            @Html.TextBoxFor(model => item.ValueMar, new { id = "ValueMar-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueAprH" + i.ToString(), (item == null?0:item.ValueApr))
                            @Html.TextBoxFor(model => item.ValueApr, new { id = "ValueApr-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueMayH" + i.ToString(), (item == null?0:item.ValueMay))
                            @Html.TextBoxFor(model => item.ValueMay, new { id = "ValueMay-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueJunH" + i.ToString(), (item == null?0:item.ValueJun))
                            @Html.TextBoxFor(model => item.ValueJun, new { id = "ValueJun-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueJulH" + i.ToString(), (item == null?0:item.ValueJul))
                            @Html.TextBoxFor(model => item.ValueJul, new { id = "ValueJul-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueAugH" + i.ToString(), (item == null?0:item.ValueAug))
                            @Html.TextBoxFor(model => item.ValueAug, new { id = "ValueAug-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueSepH" + i.ToString(), (item == null?0:item.ValueSep))
                            @Html.TextBoxFor(model => item.ValueSep, new { id = "ValueSep-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueOctH" + i.ToString(), (item == null?0:item.ValueOct))
                            @Html.TextBoxFor(model => item.ValueOct, new { id = "ValueOct-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueNovH" + i.ToString(), (item == null?0:item.ValueNov))
                            @Html.TextBoxFor(model => item.ValueNov, new { id = "ValueNov-" + i.ToString()})
                        </td>
                        <td>
                            @Html.Hidden("ValueDecH" + i.ToString(), (item == null?0:item.ValueDec))
                            @Html.TextBoxFor(model => item.ValueDec, new { id = "ValueDec-" + i.ToString()})
                        </td>
                    </tr>
   
                    i++;
                }
            </tbody>
        </table>
        
}